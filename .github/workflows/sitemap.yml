name: Generate Sitemap

on:
  workflow_dispatch:
      
jobs:
  generate-sitemap:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: Generate Sitemap
      run: |
        echo "<?xml version='1.0' encoding='UTF-8'?><urlset xmlns='http://www.sitemaps.org/schemas/sitemap/0.9'>" > sitemap.xml
        for file in $(find . -name '*.html' | sed 's!\.\/!!'); do
          url="https://yourdomain.com/$file" # Replace with your domain
          echo "<url><loc>$url</loc></url>" >> sitemap.xml
        done
        echo "</urlset>" >> sitemap.xml
        
    - name: Commit Sitemap
      run: |
        git config --local user.email "action@github.com"
        git config --local user.name "GitHub Action"
        git add sitemap.xml
        if git commit -m "Automatically generated sitemap"; then
          git push
        fi
